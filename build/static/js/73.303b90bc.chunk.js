"use strict";(self.webpackChunkmantis_react_ts=self.webpackChunkmantis_react_ts||[]).push([[73],{60073:function(e,r,t){t.d(r,{Z:function(){return ye}});var n=t(27166),i=t(33032),a=t(50678),o=t(88391),l=t(70562),c=t(64391),s=t(12799),d=t(62821),u=t(63431),p=t(4427),m=t(75136),h=t(2195),x=t(37749),v=t(60813),f=t(15075),g=t(44767),Z=t(8074),y=t(18489),j=t(34684),b=t(67079),C=(0,j.ZP)("div")((function(e){var r=e.theme;return(0,y.Z)({width:"calc(100% + 2px)",marginLeft:-1,marginBottom:"-50px","& .fc-license-message":{display:"none"},"& .fc .fc-daygrid .fc-scroller-liquid-absolute":{overflow:"hidden !important"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":r.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-today-bg-color":r.palette.primary.lighter,"--fc-list-event-dot-width":"10px","--fc-event-border-color":r.palette.primary.dark,"--fc-now-indicator-color":r.palette.error.main,color:r.palette.text.primary,backgroundColor:r.palette.background.paper,fontFamily:r.typography.fontFamily},"& .fc .fc-daygrid-day-top":{display:"grid","& .fc-daygrid-day-number":{textAlign:"center",marginTop:12,marginBottom:12}},"& .fc .fc-col-header-cell":{backgroundColor:r.palette.grey[100]},"& .fc .fc-col-header-cell-cushion":{color:r.palette.grey[900],padding:16},"& .fc-direction-ltr .fc-daygrid-event.fc-event-end, .fc-direction-rtl .fc-daygrid-event.fc-event-start":{marginLeft:4,marginBottom:6,borderRadius:4,backgroundColor:r.palette.primary.main,border:"none"},"& .fc-h-event .fc-event-main":{padding:4,paddingLeft:8},"& .fc .fc-more-popover":{border:"none",borderRadius:6,zIndex:1200},"& .fc .fc-more-popover .fc-popover-body":{backgroundColor:r.palette.grey[200],borderBottomLeftRadius:4,borderBottomRightRadius:4},"& .fc .fc-popover-header":{padding:12,borderTopLeftRadius:4,borderTopRightRadius:4,backgroundColor:r.palette.grey[200],color:r.palette.text.primary},"& .fc-theme-standard .fc-list-day-cushion":{backgroundColor:r.palette.grey[100]},"& .fc .fc-day":{cursor:"pointer"},"& .fc .fc-timeGridDay-view .fc-timegrid-slot":{backgroundColor:r.palette.background.paper},"& .fc .fc-timegrid-slot":{cursor:"pointer"},"& .fc .fc-list-event:hover td":{cursor:"pointer",backgroundColor:r.palette.grey[100]},"& .fc-timegrid-event-harness-inset .fc-timegrid-event, .fc-timegrid-event.fc-event-mirror, .fc-timegrid-more-link":{padding:8,margin:2}},r.direction===b.xk.RTL&&{overflow:"hidden"})})),k=t(83738),w=t(12600),P=t(99498),D=t(37796),W=t(95590),M=t(55856),I=t(62263),E=t(69761),T=t(23163),A=t(42477),R=t(30446),S=t(88801),z=t(12048),F=t(97435),V=t(23712),B=["date","view","onClickNext","onClickPrev","onClickToday","onChangeView","sx"],L=[{label:"Month",value:"dayGridMonth",icon:T.Z},{label:"Week",value:"timeGridWeek",icon:A.Z},{label:"Day",value:"timeGridDay",icon:R.Z},{label:"Agenda",value:"listWeek",icon:S.Z}],_=function(e){var r=e.date,t=e.view,n=e.onClickNext,i=e.onClickPrev,c=e.onClickToday,s=e.onChangeView,u=(e.sx,(0,k.Z)(e,B)),p=(0,l.Z)((function(e){return e.breakpoints.down("sm")})),m=(0,o.useState)(L),h=(0,a.Z)(m,2),x=h[0],v=h[1];return(0,o.useEffect)((function(){if(p){var e=L.filter((function(e){return"dayGridMonth"!==e.value&&"timeGridWeek"!==e.value}));v(e)}else v(L)}),[p]),(0,V.jsxs)(w.ZP,(0,y.Z)((0,y.Z)({alignItems:"center",container:!0,justifyContent:"space-between",spacing:p?1:3},u),{},{sx:{pb:3},children:[(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsx)(P.Z,{variant:"outlined",onClick:c,size:p?"small":"medium",children:"Today"})}),(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsxs)(D.Z,{direction:"row",alignItems:"center",spacing:p?1:3,children:[(0,V.jsx)(E.Z,{onClick:i,size:p?"small":"large",children:(0,V.jsx)(z.Z,{})}),(0,V.jsx)(W.Z,{variant:p?"h5":"h3",color:"textPrimary",children:(0,I.Z)(r,"MMMM yyyy")}),(0,V.jsx)(E.Z,{onClick:n,size:p?"small":"large",children:(0,V.jsx)(F.Z,{})})]})}),(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsx)(M.Z,{variant:"outlined","aria-label":"outlined button group",children:x.map((function(e){var r=e.icon;return(0,V.jsx)(d.Z,{title:e.label,children:(0,V.jsx)(P.Z,{size:p?"small":"medium",disableElevation:!0,variant:e.value===t?"contained":"outlined",onClick:function(){return s(e.value)},children:(0,V.jsx)(r,{style:{fontSize:"1.3rem"}})})},e.value)}))})})]}))},G=t(83182),N=t(17938),q=t(81129),J=t(16135),H=t(81660),O=t(16867),$=t(35431),K=t(40255),Q=t(8991),U=t(12635),X=t(82872),Y=t(35390),ee=t(33878),re=t(36702),te=t(78544),ne=t(3522),ie=t(69587),ae=t.n(ie),oe=t(55420),le=t(87647),ce=t(57175),se=t(87965),de=t(85691),ue=function(e){var r=e.color,t=e.value;return(0,V.jsx)(d.Z,{title:r,children:(0,V.jsx)($.Z,{value:t,label:"",control:(0,V.jsx)(ce.Z,{disableRipple:!0,icon:(0,V.jsx)(se.Z,{variant:"rounded",type:"combined",size:"xs",sx:{backgroundColor:r,borderColor:"divider"},children:(0,V.jsx)(c.Z,{sx:{display:"none"}})}),checkedIcon:(0,V.jsx)(se.Z,{variant:"rounded",type:"combined",size:"xs",sx:{backgroundColor:r,color:"#000",borderColor:"divider"},children:(0,V.jsx)(de.Z,{})}),sx:{"&:hover":{bgcolor:"transparent"}}})})})},pe=t(41975),me=t(55025),he=t(10861),xe=t(51948),ve=t(41031),fe=function(e,r){var t={title:"",description:"",color:"#1890ff",textColor:"#fff",allDay:!1,start:r?new Date(r.start):new Date,end:r?new Date(r.end):new Date};return e||r?ae().merge({},t,e):t},ge=function(e){var r=(0,G.Z)(),t=!e.event,n=[{value:r.palette.primary.main,color:"primary.main"},{value:r.palette.error.main,color:"error.main"},{value:r.palette.success.main,color:"success.main"},{value:r.palette.secondary.main,color:"secondary.main"},{value:r.palette.warning.main,color:"warning.main"},{value:r.palette.primary.lighter,color:"primary.lighter"},{value:r.palette.error.lighter,color:"error.lighter"},{value:r.palette.success.lighter,color:"success.lighter"},{value:r.palette.secondary.lighter,color:"secondary.lighter"},{value:r.palette.warning.lighter,color:"warning.lighter"}],i=[{value:"#fff",color:"white"},{value:r.palette.error.lighter,color:"error.lighter"},{value:r.palette.success.lighter,color:"success.lighter"},{value:r.palette.secondary.lighter,color:"secondary.lighter"},{value:r.palette.warning.lighter,color:"warning.lighter"},{value:r.palette.primary.lighter,color:"primary.lighter"},{value:r.palette.primary.main,color:"primary.main"},{value:r.palette.error.main,color:"error.main"},{value:r.palette.success.main,color:"success.main"},{value:r.palette.secondary.main,color:"secondary.main"},{value:r.palette.warning.main,color:"warning.main"}],a=oe.Ry().shape({title:oe.Z_().max(255).required("Project title is required"),description:oe.Z_().max(5e3),end:oe.hT().when("start",(function(e,r){return e&&r.min(e,"End date must be later than start date")})),start:oe.hT(),color:oe.Z_().max(255),textColor:oe.Z_().max(255)}),o=(0,le.TA)({initialValues:fe(e.event,e.range),validationSchema:a,onSubmit:function(r,t){var n=t.setSubmitting;try{var i={title:r.title,description:r.description,color:r.color,textColor:r.textColor,allDay:r.allDay,start:r.start,end:r.end,to:e.receiverEmail};e.event?(0,pe.WI)((0,he.eJ)(e.event.id,i)):(0,pe.WI)((0,he.yM)(i)),n(!1)}catch(a){console.error(a)}}}),l=o.values,c=o.errors,s=o.touched,u=o.handleSubmit,p=o.isSubmitting,m=o.getFieldProps,h=o.setFieldValue;return(0,V.jsx)(le.Hy,{value:o,children:(0,V.jsx)(re._,{dateAdapter:ne.H,children:(0,V.jsxs)(le.l0,{autoComplete:"off",noValidate:!0,onSubmit:u,children:[(0,V.jsx)(N.Z,{children:e.event?"Edit Event":"Add Event"}),(0,V.jsx)(q.Z,{}),(0,V.jsx)(J.Z,{sx:{p:2.5},children:(0,V.jsxs)(w.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-title",children:"Project title"}),(0,V.jsx)(O.Z,(0,y.Z)((0,y.Z)({fullWidth:!0,id:"cal-title",placeholder:"Title"},m("title")),{},{error:Boolean(s.title&&c.title),helperText:s.title&&c.title}))]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-description",children:"Meeting Agenda"}),(0,V.jsx)(O.Z,(0,y.Z)((0,y.Z)({fullWidth:!0,id:"cal-description",multiline:!0,rows:3,placeholder:"Description"},m("description")),{},{error:Boolean(s.description&&c.description),helperText:s.description&&c.description}))]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)($.Z,{control:(0,V.jsx)(K.Z,(0,y.Z)({checked:l.allDay},m("allDay"))),label:"Video"})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,md:6,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-start-date",children:"Start Date"}),(0,V.jsx)(te.W,{value:new Date(l.start),format:"dd/MM/yyyy hh:mm a",onChange:function(e){return h("start",e)},slotProps:{textField:{InputProps:{endAdornment:(0,V.jsx)(Q.Z,{position:"end",sx:{cursor:"pointer"},children:(0,V.jsx)(xe.Z,{})})}}}}),s.start&&c.start&&(0,V.jsx)(U.Z,{error:!0,children:c.start})]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,md:6,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-end-date",children:"End Date"}),(0,V.jsx)(te.W,{value:new Date(l.end),format:"dd/MM/yyyy hh:mm a",onChange:function(e){return h("end",e)},slotProps:{textField:{InputProps:{endAdornment:(0,V.jsx)(Q.Z,{position:"end",sx:{cursor:"pointer"},children:(0,V.jsx)(xe.Z,{})})}}}}),s.end&&c.end&&(0,V.jsx)(U.Z,{error:!0,children:c.end})]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(w.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(W.Z,{variant:"subtitle1",children:"Background Color"})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(X.Z,{children:(0,V.jsx)(Y.Z,(0,y.Z)((0,y.Z)({row:!0,"aria-label":"color"},m("color")),{},{onChange:function(e){return h("color",e.target.value)},name:"color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:2}},children:n.map((function(e,r){return(0,V.jsx)(ue,{value:e.value,color:e.color},r)}))}))})})]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(w.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(W.Z,{variant:"subtitle1",children:"Text Color"})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(X.Z,{component:"fieldset",children:(0,V.jsx)(Y.Z,(0,y.Z)((0,y.Z)({row:!0,"aria-label":"textColor"},m("textColor")),{},{onChange:function(e){return h("textColor",e.target.value)},name:"text-color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:2}},children:i.map((function(e,r){return(0,V.jsx)(ue,{value:e.value,color:e.color},r)}))}))})})]})})]})}),(0,V.jsx)(q.Z,{}),(0,V.jsx)(ee.Z,{sx:{p:2.5},children:(0,V.jsxs)(w.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,V.jsx)(w.ZP,{item:!0,children:!t&&(0,V.jsx)(d.Z,{title:"Delete Event",placement:"top",children:(0,V.jsx)(E.Z,{onClick:function(){var r;(0,pe.WI)((0,he.Bt)(null===(r=e.event)||void 0===r?void 0:r.id)),(0,pe.WI)((0,me.ss)({open:!0,message:"Event deleted successfully.",variant:"alert",alert:{color:"success"},close:!1}))},size:"large",color:"error",children:(0,V.jsx)(ve.Z,{})})})}),(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsxs)(D.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,V.jsx)(P.Z,{color:"error",onClick:e.onCancel,children:"Cancel"}),(0,V.jsx)(P.Z,{type:"submit",variant:"contained",disabled:p,children:e.event?"Edit":"Add"})]})})]})})]})})})},Ze=t(67356),ye=function(e){var r=(0,l.Z)((function(e){return e.breakpoints.down("sm")})),t=(0,o.useState)(!0),y=(0,a.Z)(t,2),j=y[0],b=y[1],k=(0,pe.v9)((function(e){return e.calendar})),w=k.calendarView,P=k.upcomingMeetings,D=k.isModalOpen,W=k.selectedRange,M=(0,pe.v9)((function(e){var r=e.calendar,t=r.upcomingMeetings,n=r.selectedEventId;return n?t.find((function(e){return e.id===n})):null}));(0,o.useEffect)((function(){var e=r?"listWeek":"dayGridMonth",t=(0,pe.WI)((0,he.s1)(e)),n=(0,pe.WI)((0,he.pn)());Promise.all([t,n]).then((function(){return b(!1)}))}),[]),(0,o.useEffect)((function(){var e=I.current;if(e){var t=e.getApi(),n=r?"listWeek":"dayGridMonth";t.changeView(n),(0,pe.WI)((0,he.s1)(n))}}),[r]);var I=(0,o.useRef)(null),E=(0,o.useState)(new Date),T=(0,a.Z)(E,2),A=T[0],R=T[1],S=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.event;try{(0,pe.WI)((0,he.eJ)(t.id,{allDay:t.allDay,start:t.start,end:t.end}))}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),z=function(){(0,pe.WI)((0,he.$J)())};return j?(0,V.jsx)(g.Z,{}):(0,V.jsxs)(c.Z,{sx:{position:"relative"},children:[(0,V.jsxs)(C,{children:[(0,V.jsx)(_,{date:A,view:w,onClickNext:function(){var e=I.current;if(e){var r=e.getApi();r.next(),R(r.getDate())}},onClickPrev:function(){var e=I.current;if(e){var r=e.getApi();r.prev(),R(r.getDate())}},onClickToday:function(){var e=I.current;if(e){var r=e.getApi();r.today(),R(r.getDate())}},onChangeView:function(e){var r=I.current;r&&(r.getApi().changeView(e),(0,pe.WI)((0,he.s1)(e)))}}),(0,V.jsx)(p.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:P,ref:I,rerenderDelay:10,initialDate:A,initialView:w,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:function(e){var r=I.current;r&&r.getApi().unselect();(0,pe.WI)((0,he.jh)(e.start,e.end))},eventDrop:S,eventClick:function(e){(0,pe.WI)((0,he.lz)(e.event.id))},eventResize:S,height:r?"auto":720,plugins:[h.Z,x.Z,f.Z,v.Z,m.ZP]})]}),(0,V.jsx)(s.Z,{maxWidth:"sm",TransitionComponent:Z.S,fullWidth:!0,onClose:z,open:D,sx:{"& .MuiDialog-paper":{p:0}},children:(0,V.jsx)(ge,{event:M,range:W,onCancel:z,receiverEmail:e.receiverEmail})}),(0,V.jsx)(d.Z,{title:"Add New Event",children:(0,V.jsx)(u.Z,{ariaLabel:"add-event-fab",sx:{display:"inline-flex",position:"sticky",bottom:24,left:"100%",transform:"translate(-50%, -50% )"},icon:(0,V.jsx)(Ze.Z,{style:{fontSize:"1.5rem"}}),onClick:z})})]})}}}]);